<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WebAR Каталог одежды</title>

  <!-- Стили сайта -->
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

  <!-- MindAR CSS -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image.css" />

  <!-- MindAR JS (глобальный объект window.MINDAR) -->
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-three.prod.js"></script>

  <!-- Основной скрипт (наш код) -->
  <script type="module" defer src="{{ url_for('static', filename='ar/catalog.js') }}"></script>
</head>

<body>
  <header class="site-header">
    <div class="logo">WebAR Каталог</div>
    <div class="subtitle">Примерка одежды на виртуальном манекене</div>
  </header>

  <main class="site-main">

    <!-- ============================= -->
    <!-- КАТАЛОГ -->
    <!-- ============================= -->
    <section id="catalog-section" class="catalog-section">
      <h1>Выберите образ для примерки</h1>

      <div class="catalog-grid">

        <article class="card" data-outfit="look1">
          <div class="card-thumb card-thumb-1"></div>
          <h2>Образ 1: Жакет</h2>
          <p>Современный городской стиль с акцентом на верхнюю одежду.</p>
          <button class="card-btn" type="button">Примерить этот образ</button>
        </article>

        <article class="card" data-outfit="look2">
          <div class="card-thumb card-thumb-2"></div>
          <h2>Образ 2: Платье</h2>
          <p>Повседневный женственный образ.</p>
          <button class="card-btn" type="button">Примерить этот образ</button>
        </article>

      </div>
    </section>

    <!-- ============================= -->
    <!-- AR СЦЕНА -->
    <!-- ============================= -->
    <section id="ar-section" class="ar-section" hidden>
      <div class="ar-top-bar">
        <button id="backToCatalog" type="button">← Назад к каталогу</button>
        <div class="ar-status" id="arStatus">Наведите камеру на маркер</div>
      </div>

      <div id="ar-container" class="ar-container">
        <div id="hint" class="hint-overlay">Наведите камеру на маркер</div>
      </div>

      <div class="ar-outfits">
        <span>Сменить образ:</span>
        <button type="button" class="ar-outfit-btn" data-outfit="look1">Образ 1</button>
        <button type="button" class="ar-outfit-btn" data-outfit="look2">Образ 2</button>
      </div>
    </section>

  </main>
</body>
</html>
